// Importation du fichier global
@import "./abstracts/_global_abstracts.scss";

.ulaval-header-menu-sous-unite-container {
    background-color:var(--ul-color-black);
    color:var(--ul-color-white);
}

.ulaval-header-menu-sous-unite-content{
    @include ul-container;
    @include ul-paddings;
    display:flex;
    align-items:center;
    column-gap:ul-scale-units(3rem);
    .ulaval-header-menu-sous-unite-link{
        color:var(--ul-color-white);
        font-size:ul-scale-units(1rem);
        font-weight:700;
        text-decoration:none;
        padding:ul-scale-units(0.5rem) 0;
        &:hover{
            text-decoration:underline;
        }
        &:focus-visible{
            outline-offset:3px;
        }
    }
    button{
        display:none;
        border:none;
        background-color:var(--ul-color-black);
        border-left:1px var(--ul-color-white) solid;
        border-right:1px var(--ul-color-white) solid;
        flex:0 0 3rem;
        align-items:center;
        justify-content:center;
        &:before{
            display:block;
            content:"";
            width:16px;
            height:8px;
            background-image: var(--img-dropdown-arrow);
            background-size:cover;
            background-position:center;
            background-repeat:no-repeat;
            filter:invert(1);
        }
        &:hover{
            background-color:var(--ul-color-white);
            &:before{
                filter:none;
            }
            
        }
        &:focus-visible, &:focus{
            outline-offset:2px;
            outline-color: var(--ul-color-black);
            background-color:var(--ul-color-white);
            &:before{
                filter:none;
            }
        }
        &[aria-expanded=true]{
            &:before{
                transform:scaleY(-1);
            }
        }
    }
    ul{
        display:flex;
        align-items:center;
        list-style:none;
        margin:0;
        padding:0;
        column-gap:0.5rem;
        li{
            margin:0;
            padding:0;
            a{
                display:block;
                color:var(--ul-color-white);
                text-decoration:none;
                font-size:ul-scale-units(0.875rem);
                padding:ul-scale-units(0.56rem);
                &[aria-current="page"]{
                    text-decoration:underline;
                }
                &:hover{
                    background-color:var(--ul-color-white);
                    color:var(--ul-color-black);
                }
                &:focus-visible{
                    outline-offset:ul-scale-units(0.19rem);
                    background-color:var(--ul-color-white);
                    color:var(--ul-color-black);
                }
            }
        }
    }
}

@media (max-width: $ul-mobile-width) {
    .ulaval-header-menu-sous-unite-content{
        button{
            display:flex;
        }
        &>div{
            display:flex;
            justify-content: space-between;
            align-items:stretch;
            gap:1em;
        }
        flex-direction:column;
        align-items:stretch;
        nav{
            position: absolute;
            background-color: black;
            left: 0;
            right: 0;
            top: 100%;
            overflow: hidden;
            display:none;
            &.open {
                display: block;
                animation: ulaval-header-sous-unite-fadeIn 0.5s;
            }
            &:not(.open).remove {
                display: block;
                animation: ulaval-header-sous-unite-fadeOut 0.5s;
            }
        }
        ul{
            flex-direction:column;
            align-items:flex-start;
            width:100%;
            li{
                width:100%;
                border-top:1px var(--ul-color-grey) solid;
                a{
                    @include ul-container;
                    @include ul-paddings;
                    &:focus-visible{
                        outline-offset:ul-scale-units(-0.35rem);
                    }
                }
            }
        }
    }
}

// Animations reli√©es au moteur de recherche
@keyframes ulaval-header-sous-unite-fadeIn {
    from {
        max-height: 0;
    }
    to {
        max-height: 1000px;
    }
}

@keyframes ulaval-header-sous-unite-fadeOut {
    from {
        max-height: 1000px;
    }
    to {
        max-height: 0;
    }
}